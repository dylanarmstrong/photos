@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: Mukta;
  font-style: normal;
  font-display: swap;
  src:
    local('Mukta Regular'),
    local('Mukta-Regular'),
    url(/photos/fonts/mukta-latin-400.woff2) format('woff2'),
    url(/photos/fonts/mukta-latin-400.woff) format('woff');
}

@font-face {
  font-family: Mukta;
  font-style: normal;
  font-display: swap;
  font-weight: 700;
  src:
    local('Mukta Bold'),
    local('Mukta-Bold'),
    url(/photos/fonts/mukta-latin-700.woff2) format('woff2'),
    url(/photos/fonts/mukta-latin-700.woff) format('woff');
}

@layer base {
  * {
    @apply box-border;
  }

  a {
    @apply text-blue
      underline;
  }

  a:visited {
    @apply text-purple;
  }

  body {
    @apply grid-rows-layout
      m-0
      grid
      min-h-dvh
      min-w-full
      bg-white
      p-0
      tracking-tight
      text-black;
  }

  figcaption {
    @apply block
      rounded-b
      border-b
      border-l
      border-r
      p-2
      text-black
      md:hidden;
  }

  footer {
    @apply my-2.5 ml-4;
  }

  h1 {
    @apply text-3xl md:text-4xl;
  }

  h2 {
    @apply text-base;
  }

  header {
    @apply ml-4;
  }

  html {
    @apply min-h-full min-w-full;
  }

  main {
    @apply ml-4;
  }

  p {
    @apply leading-4;
  }

  table {
    @apply border-collapse
      text-xl;
  }

  td {
    @apply border
      border-black
      p-1.5
      text-left;
  }

  th {
    @apply sticky
      top-0
      border-x
      border-y-0
      border-black
      bg-white
      p-1.5
      text-left
      before:absolute
      before:left-0
      before:top-0
      before:w-full
      before:border-t
      before:content-['']
      after:absolute
      after:bottom-0
      after:left-0
      after:w-full
      after:border-b
      after:content-[''];
  }

  tbody tr:first-child td {
    @apply border-t-0;
  }

  td,
  th {
    @apply hidden md:table-cell;
  }
}

@layer components {
  .album a,
  .album span,
  .navigation a {
    @apply mr-5
      text-xl;
  }

  .image-block {
    @apply relative
      flex
      h-auto
      flex-col
      self-end
      overflow-hidden;
  }

  .image-block img {
    @apply relative
      w-full
      rounded-b-none
      rounded-t
      border
      border-black
      object-cover
      md:rounded-b;
  }

  .image-block .data {
    @apply absolute
      bottom-0
      flex
      h-auto
      w-full
      flex-wrap
      justify-start
      overflow-hidden
      rounded-b
      border
      border-black
      bg-black/60
      p-3
      text-white
      subpixel-antialiased
      opacity-0
      backdrop-blur
      backdrop-saturate-150
      transition-opacity
      duration-300
      ease-out
      before:rounded-xl;

    /* Fix for Safari */
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }

  .image-block .data p {
    @apply w-full;
  }

  .image-container {
    @apply grid
      w-[95%]
      grid-cols-1
      gap-2
      sm:grid-cols-2
      md:grid-cols-3
      lg:grid-cols-5
      2xl:grid-cols-8;
  }

  .header.navigation {
    @apply mb-2.5;
  }

  .footer.navigation {
    @apply my-2.5;
  }

  td.mobile,
  th.mobile {
    @apply table-cell;
  }
}
