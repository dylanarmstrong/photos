@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: Poppins;
  font-style: normal;
  font-display: swap;
  src:
    local('Poppins'),
    url(/photos/static/poppins-latin-400-normal.woff2) format('woff2'),
    url(/photos/static/poppins-latin-400-normal.woff) format('woff');
}

@font-face {
  font-family: Poppins;
  font-style: normal;
  font-display: swap;
  font-weight: 700;
  src:
    local('Poppins Bold'),
    url(/photos/static/poppins-latin-700-normal.woff2) format('woff2'),
    url(/photos/static/poppins-latin-700-normal.woff) format('woff');
}

@layer base {
  * {
    @apply box-border;
  }

  a {
    @apply text-blue
      decoration-blue
      underline
      decoration-2
      underline-offset-1;
  }

  a:visited {
    @apply text-purple decoration-purple;
  }

  body {
    @apply grid-rows-layout
      m-0
      grid
      max-h-dvh
      min-h-dvh
      min-w-full
      bg-white
      p-0
      tracking-tight
      text-black;
  }

  figcaption {
    @apply block
      rounded-b
      border-b
      border-l
      border-r
      p-2
      text-base
      leading-5
      text-black
      md:hidden;
  }

  footer {
    @apply ml-4 mt-2.5 pb-2.5;
  }

  h1 {
    @apply text-3xl;
  }

  h2 {
    @apply text-base;
  }

  header {
    @apply ml-4 mt-2;
  }

  html {
    @apply min-h-full min-w-full;
  }

  main {
    @apply mx-4;
  }

  p {
    @apply leading-4;
  }

  table {
    @apply border-collapse text-base;
  }

  td,
  th {
    @apply hidden p-1.5
    text-left
    md:table-cell;
  }
}

@layer components {
  .album a,
  .album span,
  .navigation a {
    @apply mr-3 text-base
      md:mr-5;
  }

  .details {
    @apply grid-rows-details md:grid-cols-details grid grid-flow-col md:h-[95%] md:grid-rows-none;
  }

  .details-container {
    @apply grid-cols-detailContainer grid bg-black;
  }

  .details-image img {
    @apply max-h-[83dvh] object-contain;
  }

  .details-container a.chevron {
    @apply m-auto flex h-full w-full items-center justify-center;
  }

  .details-image {
    @apply mx-auto self-center p-5;
  }

  .details-data {
    @apply h-full w-full self-start bg-white px-5 text-black;
  }

  .details-data > div {
    @apply flex;
  }

  .details-data > div > div {
    @apply flex self-center;
  }

  .details-table tbody tr td:first-child {
    @apply align-top;
  }

  .image-block {
    @apply relative
      flex
      h-auto
      flex-col
      self-end
      overflow-hidden;
  }

  .image-block img {
    @apply relative
      max-h-[512px]
      w-full
      rounded-b-none
      rounded-t
      border
      border-black
      object-contain
      md:max-h-[362.25px]
      md:rounded-b;
  }

  .image-block .data {
    @apply absolute
      bottom-0
      flex
      h-auto
      w-full
      flex-wrap
      justify-start
      overflow-hidden
      rounded-b
      border
      border-black
      bg-black/60
      p-3
      text-white
      subpixel-antialiased
      opacity-0
      backdrop-blur
      backdrop-saturate-150
      transition-opacity
      duration-300
      ease-out
      before:rounded-xl;

    /* Fix for Safari */
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }

  .image-block .data p {
    @apply w-full text-sm leading-4;
  }

  .image-container {
    @apply grid
      grid-cols-1
      gap-2
      sm:grid-cols-2
      md:grid-cols-3
      lg:grid-cols-5
      2xl:grid-cols-8;
  }

  .header.navigation {
    @apply mb-2.5 flex flex-wrap;
  }

  .footer.navigation {
    @apply mt-2.5;
  }

  td.mobile,
  th.mobile {
    @apply table-cell;
  }

  .index-table td {
    @apply border border-black;
  }

  .index-table th {
    @apply sticky
      top-0
      border-x
      border-y-0
      border-black
      bg-white
      before:absolute
      before:left-0
      before:top-0
      before:w-full
      before:border-t
      before:content-['']
      after:absolute
      after:bottom-0
      after:left-0
      after:w-full
      after:border-b
      after:content-[''];
  }

  .index-table tbody tr:first-child td {
    @apply border-t-0;
  }

  #map {
    @apply h-64 w-full self-end;
  }
}
